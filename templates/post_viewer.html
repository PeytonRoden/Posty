{% extends '_layout.html' %}

<!--if user isn't logged in then they get option to login, if logged in they can post-->
{% block login_or_post %}
{% if current_user == None %}<a class="nav-link" href="{{ url_for('login_page') }}">Login</a>
{% else %}   
<a class="nav-link" href="{{ url_for('create_new_post_page') }}">Post</a>
{% endif %} {% endblock %}

<!--if they are logged in display their name and univeristy, also make it clicckable so they can edit their stuff-->
{% block currentUser %} 
{% if current_user != None %} 
<a class="nav-link active" href = "{{ url_for('account_info_page') }}"> 
{{current_user.username}} | {{current_user.university}} 
</a>
{% else %}
<a class="nav-link inactive"> </a>
{% endif %}
{% endblock %}




{% block body %}



<section style="background-color: #eee;">
  <div class="container my-5 py-5">
    <div class="row d-flex justify-content-center">
      <div class="col-md-12 col-lg-10 col-xl-8">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-start align-items-center">
              <img class="rounded-circle shadow-1-strong me-3"
                src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(19).webp" alt="avatar" width="60"
                height="60" />
              <div>
                <h6 class="fw-bold text-primary mb-1">{{ post.user.username }} | {{ post.user.university }}</h6>
                <p class="text-muted small mb-0">
                  {{ post.post_datetime.strftime("%Y-%m-%d %H:%M") }}
                </p>
              </div>
            </div>

            <p class = "card-title">
              {{ post.post_title }}
            </p>
            
            <p class="mt-3 mb-4 pb-2">
              {{ post.post_text }}
            </p>

            <div class="small d-flex justify-content-start">
              <a href="#!" class="d-flex align-items-center me-3">
                <i class="far fa-thumbs-up me-2"></i>
                <p class="mb-0">Like</p>
              </a>
              <a href="#!" class="d-flex align-items-center me-3">
                <i class="far fa-comment-dots me-2"></i>
                <p class="mb-0">Comment</p>
              </a>
              <a href="#!" class="d-flex align-items-center me-3">
                <i class="fas fa-share me-2"></i>
                <p class="mb-0">Share</p>
              </a>
            </div>
          </div>
          {% if comment %}
          <div class="card-footer py-3 border-0" style="background-color: #f8f9fa;">
            <div class="d-flex flex-start w-100">
              <img class="rounded-circle shadow-1-strong me-3"
                src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(19).webp" alt="avatar" width="40"
                height="40" />
              <div class="form-outline w-100">
                <textarea class="form-control" id="textAreaExample" rows="4"
                  style="background: #fff;"></textarea>
                <label class="form-label" for="textAreaExample">Message</label>
              </div>
            </div>
            <div class="float-end mt-2 pt-1">
              <button type="button" class="btn btn-primary btn-sm">Post comment</button>
              <button type="button" class="btn btn-outline-primary btn-sm">Cancel</button>
            </div>
          </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>


  <!--example comment tree ot be changed later-->

  <section class="gradient-custom">
    <div class="container my-5 py-5">
      <div class="row d-flex justify-content-center">
        <div class="col-md-12 col-lg-10 col-xl-8">
          <div class="card">
            <div class="card-body p-4">
              <h4 class="text-center mb-4 pb-2">Nested comments section</h4>
  
              <div class="row">
                <div class="col">
                  <div class="d-flex flex-start">
                    <img class="rounded-circle shadow-1-strong me-3"
                      src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(10).webp" alt="avatar" width="65"
                      height="65" />
                    <div class="flex-grow-1 flex-shrink-1">
                      <div>
                        <div class="d-flex justify-content-between align-items-center">
                          <p class="mb-1">
                            Maria Smantha <span class="small">- 2 hours ago</span>
                          </p>
                          <a href="#!"><i class="fas fa-reply fa-xs"></i><span class="small"> reply</span></a>
                        </div>
                        <p class="small mb-0">
                          It is a long established fact that a reader will be distracted by
                          the readable content of a page.
                        </p>
                      </div>
  
                      <div class="d-flex flex-start mt-4">
                        <a class="me-3" href="#">
                          <img class="rounded-circle shadow-1-strong"
                            src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(11).webp" alt="avatar"
                            width="65" height="65" />
                        </a>
                        <div class="flex-grow-1 flex-shrink-1">
                          <div>
                            <div class="d-flex justify-content-between align-items-center">
                              <p class="mb-1">
                                Simona Disa <span class="small">- 3 hours ago</span>
                              </p>
                            </div>
                            <p class="small mb-0">
                              letters, as opposed to using 'Content here, content here',
                              making it look like readable English.
                            </p>
                          </div>
                        </div>
                      </div>
  
                      <div class="d-flex flex-start mt-4">
                        <a class="me-3" href="#">
                          <img class="rounded-circle shadow-1-strong"
                            src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(32).webp" alt="avatar"
                            width="65" height="65" />
                        </a>
                        <div class="flex-grow-1 flex-shrink-1">
                          <div>
                            <div class="d-flex justify-content-between align-items-center">
                              <p class="mb-1">
                                John Smith <span class="small">- 4 hours ago</span>
                              </p>
                            </div>
                            <p class="small mb-0">
                              the majority have suffered alteration in some form, by
                              injected humour, or randomised words.
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>



{% endblock %}