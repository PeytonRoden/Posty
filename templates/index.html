{% extends '_layout.html' %}

<!--if user isn't logged in then they get option to login, if logged in they can post-->
{% block login_or_post %}
{% if current_user == None %}<a class="nav-link" href="{{ url_for('login_page') }}">Login</a>
{% else %}   
<a class="nav-link" href="{{ url_for('create_new_post_page') }}">Post</a>
{% endif %} {% endblock %}

<!--if they are logged in display their name and univeristy, also make it clicckable so they can edit their stuff-->
{% block currentUser %} 
{% if current_user != None %} 
<a class="nav-link active" href = "{{ url_for('account_info_page') }}"> 
{{current_user.username}} | {{current_user.university}} 
</a>
{% else %}
<a class="nav-link inactive"> </a>
{% endif %}
{% endblock %}



{% block body %}

<div class = "container-sm">
<h1>Posts</h1>
<ul>
    {% for post in post_list %}

    <div class="card mb-3">
        <img src="..." class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">{{ post.post_title }}</h5>
          <p class="card-text"><small class="text-muted">user: {{ post.user.username }}</small></p>
          <p class="card-text">{{ post.post_text }}</p>

          <!--probalby changes post to post id at some point-->
          <a href="{{ url_for('post_viewer', postID = post.postID) }}" class="stretched-link"></a>
        </div>
      </div>

    {% endfor %}

</ul>
</div>

{% endblock %}